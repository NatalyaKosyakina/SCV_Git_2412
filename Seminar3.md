# Работа с Git
## 1. Проверка наличия установленного Git
В терминале выполнить команду `git --version`. 
Если git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.


## 2. Установка
Загружаем последнюю версию с сайта Git и устанавливаем с настройками по умолчанию. [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git "Git")

## 3. Настройка Git
При первом использовании Git  нужно представиться программе. Для этого нужно ввести две команды:
```
git config --global user.name "Ваше имя английскими буквами"
git config --global user/mail "Ваша электронная почта"
```

## 4. Инициализация репозитория
Чтобы превратить папку, в которой мы сейчас находимся, в репозиторий, нужно ввести команду `git init`. Но сначала лучше проверить, не является ли папка уже репозиторием, с помощью команды `git status`.
Если папка является репозиторием, то в терминале появится информация о том, в какой ветке мы находимся, и данные о файле, с которым мы сейчас работаем. [Пример:](C:\Users\ancka\Desktop\Git\Picture_for_git.JPG)

Если папка не является репозиторием, то в терминале будет сообщение об этом.

## 5. Сохранение версии с комментариями.
Если мы просто добавим файл в репозиторий, git не начнет с ним работу автоматически. Нужно указать программе, что этот файл нужно отслеживать, с помощью команды `git add` и названия файла. Если название файла не указать, команда не сработает.
Каждый раз, когда нам надо зафиксировать текущую версию файла, сначала нужно его сохранить (с помощью команды Ctrl+S, или автосохранения), затем поставить отметку для отслеживания (`git add`), затем зафиксировать произошедшие в файле изменения с помощью комментария. Это можно сделать с помощью команды `git commit` с параметром `m`. Текст комментария указывается далее в кавычках. Пример:
```
git commit -m "Добавлен пункт 5"
```
## Параметры сохранения
У комманды `git commit` могут быть разные параметры. Посмотреть их можно с помощью команды `git commit -h`, то есть с помощью параметра `-h`, от слова help.

| Параметр | Использование |
| -- | -- |
| -a или --all | Используется, когда нужно распространить действие команды на все файлы в данном репозитории|
| -i или --include | |
| --interactive | |
| -p или --patch| |
| -o или --only| |
| -n или --no-verify| |
| --dry-run| |
| --short| |
| --branch| |
| --ahead-behind| |
| --porcelain| |
| -long| |
| -z или --null | |
| --amend | Используется для замены предыдущей фиксации|
| --no-post-rewrite | |
| -u или --untracked-files[= < mode >] | |
| --pathspec-from-file < file> | |
| --pathspec-from-file-nul | |

Пустые строки означают, что мы пока это не проходили. 

## 6. Просмотр истории, поиск разницы, перемещение между версиями.
Чтобы посмотреть, какие на текущий момент существуют версии файлов в репозитории, нужно ввести команду `git log`. Отобразится список сохраненных версий с комментариями. Чтобы после просмотра этого списка начать вводить новые команды, нужно выйти из просмотра, нажав кнопку q на английской раскладке.
Чтобы перейти из одной версии в другую, используется команда `git checkout`и первые несколько знаков номера версии. Пример:
```
git checkout 3e7d5
```
Если номер и команда введены верно, а терминал пишет ошибку, возможно, что переход осуществляется из файла, в который были внесены изменения, но комментарий к этим изменениям ещё не добавлен. В таком случае, прежде, чем переходить к нужной версии, нужно сохранить текущую версию с комментариями.

Версия, в которой зафиксированы самые последние изменения, называется `master` (вроде бы для локальных репозиториев), или `main` (для сетевых). Чтобы перейти к такой версии, можно не искать её по журналу, а просто ввести `git checkout master`.

Чтобы проверить, какие были внесены изменения в текущую версию перед внесением нового комментария можно использовать команду `git diff`, она покажет разницу между последним сохраненным изменением и последним изменением, к которому даны комментарии.

## 7. Дополнительно
Если при сохранении не прописать комментарий, то можно провалиться в редактор. Чтобы выйти из редактора, нужно:
1. Перейти на английскую раскладку;
2. Нажать на кнопку i. Нижняя строка изменится на слово ВСТАВКА;
3. Когда появилось слово Вставка, нужно вверху ввести комментарий;
4. После ввода комментария нажимаем Esc, слово Вставка внизу пропадёт;
5. В строке, где было слово Вставка нужно написать :wq и нажать enter. 


## 8. Работа с ветками
Основная ветка называется master или main. Чтобы создать новую ветку, используется комнда `git branch brunchname`, где brunchname - это имя новой ветки. При этом мы всё равно находимся на основной ветке. Чтобы перейти на новую ветку, нужно выполнить команду `git checkout brunchname`. Команда `git branch`без `brunchname`вызывает список веток. Ветка, на которой мы находимся, выделена цветом и звездочкой (Пример **\*master**). 

А ещё создать новую ветку и сразу на неё перейти можно с помощью команды `git checkout -b new_name`, где `-b` -это команда создать новую ветку, а `new_name`- это её имя.

Посмотреть дерево веток можно с помощью команды `git log --graph`. Она покажет расхождение, только если в разных версиях файла есть закоммиченные изменения, противоречащие друг другу. Если изменения сохранены, но не добавлены в отслеживание и не закоммичены, то Git их не увидит. Также команда `git log` видит только те коммиты, что ведут к текущей ветке, на которой мы сейчас находимся. Если мы находимся, к примеру, на основной ветке, то коммиты, сохраненные на дополнительных ветках, мы не увидим. Посмотреть дерево веток можно с помощью команды `git log --graph`. Она покажет расхождение, только если в разных версиях файла есть закоммиченные изменения, противоречащие друг другу.

Чтобы объединить (слить) ветки, ниспользуется команда `git merge`. Сначала нужно перейти в ветку, **В которую** будем добавлять информацию, и указать, какую ветку мы сюда вольём.
Допустим, мы вызвали из ветки vetka1 команду
```
git merge vetka2
```
В результате мы остаемся в vetka1, но в неё добавляются изменения, внесенные в vetka2.

Если одна версия является просто продолжением другой, то ветки просто сольются, станут одинаковыми. Если же в разных версиях есть разные изменения в одних и тех же местах, то программа спросит, что с этими изменениями делать: выбрать первый вариант, второй вариант, либо оставить оба изменения сразу. А ещё будет предложение сравнить, какие именно изменения присутствуют в разных версиях, для этого будет открыто специальное окошко (параллельно с документом, с которым мы сейчас работаем). На этом окошке будут подсвечены изменения. Перейти из этого окошка обратно в работу с документом просто: в верхней строке, где указано, с каким документом мы работаем сейчас, можно просто закрыть окно просмотра разницы.

После разрешения конфликта необходимо зафиксировать изменения, то есть выполнить коммит слияния `git commit -am`, указав в комментарии, что именно было слито и изменено. Затем ненужные ветки можно удалить с помощью команды `git branch -d`. Прежде, чем удалять ветку, надо сначала из неё выйти в другую ветку. Если удаляемая ветка не была перед этим слита с другой веткой, Git спросит, точно ли мы готовы её удалить. Чтобы сообщить программе, что да, точно, нужно вместо `-d` указать `-D`, пример `git branch -D vetka2`.

## 9. Работа с удаленными репозиториями.

1. Создать аккаунт на Github.com;
2. Создать локальный репозиторий;
3. Связать удаленный репозиторий с локальным, для этого предварительнов локальном репозитории переименовать ветку `master` в ветку `main` с помощью параметра `-M`. То есть: `git branch -M main`
4. Добавить удаленный репозиторий к проекту, с помощью команды `git remote add origin <ссылка на удаленный репозиторий>`. Или вместо команд 2, 3 и 4 можно скопировать удаленный репозиторий к себе в папку командой `git clone <ссылка на репозиторий>`
5. Отправить информацию из локального репозитория в удаленный можно с помощью команды `git push`. В первый раз потребуется авторизоваться в удаленном репозитории.
6. Далее, после того, как в удаленном репозитории будут произведены изменения, скачать их на локальный репозиторий можно с помощью команды `git pull`.

## Создание pull request (запроса на добавление информации в чужой репозиторий).

1. Копируем чужой репозиторий в свой аккаунт с помощью команды fork.
2. Переносим его на локальный репозиторий с помощью `git clone`.
3. Создаем отдельную ветку с предлагаемыми изменениями. Все изменения делаем только в этой ветке.
5. Отправляем все эти изменения на свой аккаунт (`git push`). Для ввода используется конструкция `git push -u origin <название ветки>`.
6. В окне на Github появляется возможность отправить pull request тому, у кого был скопирован репозиторий.
